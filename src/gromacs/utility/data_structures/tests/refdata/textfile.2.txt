The shared address space and lack of protection of data
between threads makes the overhead associated with using multi-
ple threads much smaller than that from using multiple processes,
because the operating system has less bookkeeping to do.
But the flexibility of shared memory also comes with a price: if
data is accessed by multiple threads, the application programmer
must ensure that the view of data seen by each thread is consistent
whenever it is accessed. The issues surrounding sharing data
between threads and the tools to use and guidelines to follow to
avoid problems are covered throughout this book, notably in
chapters 3, 4, 5, and 8. The problems are not insurmountable,
provided suitable care is taken when writing the code, but they do nication between
a pair of threads
mean that a great deal of thought must go into the communica- running concurrently
in a single process tion between threads.
The low overhead associated with launching and communicating between
multiple threads within a process compared to launching and communicating between
multiple single-threaded processes means that this is the favored
approach to concurrency in mainstream languages including C++, despite the potential
problems arising from the shared memory. In addition, the C++ Standard doesn't
provide any intrinsic support for communication between processes, so applications
that use multiple processes will have to rely on platform-specific APIs to do so.
This book therefore focuses exclusively on using multithreading for concurrency, and
future references to concurrency assume that this is achieved by using multiple threads.
Having clarified what we mean by concurrency, let's now look at why you would use
concurrency in your applications.
        NTmet            NTP
        NTmet           NTD1
        NTmet           NTD2
        NTmet           NTD3
          SER          SERP1
          SER          SERP2
          SER          SERP3
          ASP          ASP1S
          ASP          ASP1A
          ASP          ASP2S
          ASP          ASP2A
          ASP           ASPD
         SER          SERP1
         SER          SERP2
         SER          SERP3
         THR          THRP1
         THR          THRP2
         THR          THRP3
         TYR          TYRP1
         TYR          TYRP2
         TYR          TYRP3
         TYR           TYRD
         ARG           ARGP
         ARG          ARGDE
         ARG         ARGD11
         ARG         ARGD12
         ARG         ARGD21
         ARG         ARGD22
         ARG           ARGP
         ARG          ARGDE
         ARG         ARGD11
         ARG         ARGD12
         ARG         ARGD21
         ARG         ARGD22
         LYS           LYSP
         LYS          LYSD1
         LYS          LYSD2
         LYS          LYSD3
         SER          SERP1
         SER          SERP2
         SER          SERP3
         SER          SERP1
         SER          SERP2
         SER          SERP3
         THR          THRP1
         THR          THRP2
         THR          THRP3
         TYR          TYRP1
         TYR          TYRP2
         TYR          TYRP3
         TYR           TYRD
         TYR          TYRP1
         TYR          TYRP2
         TYR          TYRP3
         TYR           TYRD
         SER          SERP1
         SER          SERP2
         SER          SERP3
         SER          SERP1
         SER          SERP2
         SER          SERP3
         ASP          ASP1S
         ASP          ASP1A
         ASP          ASP2S
         ASP          ASP2A
         ASP           ASPD
         SER          SERP1
         SER          SERP2
         SER          SERP3
         TYR          TYRP1
         TYR          TYRP2
         TYR          TYRP3
         TYR           TYRD
         SER          SERP1
         SER          SERP2
         SER          SERP3
         LYS           LYSP
         LYS          LYSD1
         LYS          LYSD2
         LYS          LYSD3
         GLU          GLU1S
         GLU          GLU1A
         GLU          GLU2S
         GLU          GLU2A
         GLU           GLUD
         ASP          ASP1S
         ASP          ASP1A
         ASP          ASP2S
         ASP          ASP2A
         ASP           ASPD
         TYR          TYRP1
         TYR          TYRP2
         TYR          TYRP3
         TYR           TYRD
        THR          THRP1
        THR          THRP2
        THR          THRP3
        THR          THRP1
        THR          THRP2
        THR          THRP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        ARG           ARGP
        ARG          ARGDE
        ARG         ARGD11
        ARG         ARGD12
        ARG         ARGD21
        ARG         ARGD22
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        THR          THRP1
        THR          THRP2
        THR          THRP3
        TYR          TYRP1
        TYR          TYRP2
        TYR          TYRP3
        TYR           TYRD
        HIS            HSP
        HIS            HSD
        HIS            HSE
        HIS            HSU
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        ASP          ASP1S
        ASP          ASP1A
        ASP          ASP2S
        ASP          ASP2A
        ASP           ASPD
        HIS            HSP
        HIS            HSD
        HIS            HSE
        HIS            HSU
        SER          SERP1
        SER          SERP2
        SER          SERP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        THR          THRP1
        THR          THRP2
        THR          THRP3
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        ARG           ARGP
        ARG          ARGDE
        ARG         ARGD11
        ARG         ARGD12
        ARG         ARGD21
        ARG         ARGD22
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        TYR          TYRP1
        TYR          TYRP2
        TYR          TYRP3
        TYR           TYRD
        SER          SERP1
        SER          SERP2
        SER          SERP3
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        HIS            HSP
        HIS            HSD
        HIS            HSE
        HIS            HSU
        SER          SERP1
        SER          SERP2
        SER          SERP3
        THR          THRP1
        THR          THRP2
        THR          THRP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        ASP          ASP1S
        ASP          ASP1A
        ASP          ASP2S
        ASP          ASP2A
        ASP           ASPD
        THR          THRP1
        THR          THRP2
        THR          THRP3
        THR          THRP1
        THR          THRP2
        THR          THRP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        THR          THRP1
        THR          THRP2
        THR          THRP3
        ASP          ASP1S
        ASP          ASP1A
        ASP          ASP2S
        ASP          ASP2A
        ASP           ASPD
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        CYS          CYSP1
        CYS          CYSP2
        CYS          CYSP3
        CYS           CYSD
        TYR          TYRP1
        TYR          TYRP2
        TYR          TYRP3
        TYR           TYRD
        ASP          ASP1S
        ASP          ASP1A
        ASP          ASP2S
        ASP          ASP2A
        ASP           ASPD
        ARG           ARGP
        ARG          ARGDE
        ARG         ARGD11
        ARG         ARGD12
        ARG         ARGD21
        ARG         ARGD22
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        ASP          ASP1S
        ASP          ASP1A
        ASP          ASP2S
        ASP          ASP2A
        ASP           ASPD
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        SER          SERP1
        SER          SERP2
        SER          SERP3
        ASP          ASP1S
        ASP          ASP1A
        ASP          ASP2S
        ASP          ASP2A
        ASP           ASPD
        HIS            HSP
        HIS            HSD
        HIS            HSE
        HIS            HSU
        SER          SERP1
        SER          SERP2
        SER          SERP3
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        TYR          TYRP1
        TYR          TYRP2
        TYR          TYRP3
        TYR           TYRD
        SER          SERP1
        SER          SERP2
        SER          SERP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        THR          THRP1
        THR          THRP2
        THR          THRP3
        THR          THRP1
        THR          THRP2
        THR          THRP3
        TYR          TYRP1
        TYR          TYRP2
        TYR          TYRP3
        TYR           TYRD
        THR          THRP1
        THR          THRP2
        THR          THRP3
        LYS           LYSP
        LYS          LYSD1
        LYS          LYSD2
        LYS          LYSD3
        ASP          ASP1S
        ASP          ASP1A
        ASP          ASP2S
        ASP          ASP2A
        ASP           ASPD
        ARG           ARGP
        ARG          ARGDE
        ARG         ARGD11
        ARG         ARGD12
        ARG         ARGD21
        ARG         ARGD22
        SER          SERP1
        SER          SERP2
        SER          SERP3
        SER          SERP1
        SER          SERP2
        SER          SERP3
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        TYR          TYRP1
        TYR          TYRP2
        TYR          TYRP3
        TYR           TYRD
        ASP          ASP1S
        ASP          ASP1A
        ASP          ASP2S
        ASP          ASP2A
        ASP           ASPD
        SER          SERP1
        SER          SERP2
        SER          SERP3
        HIS            HSP
        HIS            HSD
        HIS            HSE
        HIS            HSU
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        GLU          GLU1S
        GLU          GLU1A
        GLU          GLU2S
        GLU          GLU2A
        GLU           GLUD
        TYR          TYRP1
        TYR          TYRP2
        TYR          TYRP3
        TYR           TYRD
      CTthr           CT1S
      CTthr           CT1A
      CTthr           CT2S
      CTthr           CT2A
      CTthr            CTD
        THR          THRP1
        THR          THRP2
        THR          THRP3
        NH3        PDN1110
        NH3        PDN1101
        NH3        PDN1011
        NH3        PDN0111
        NH3        PDN1111
        NH3        PDW1000
        NH3        PDW0100
        NH3        PDW0010
        NH3        PDW0001
        NH3        PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDEMPTY
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3        PDN1110
        NH3        PDN1101
        NH3        PDN1011
        NH3        PDN0111
        NH3        PDN1111
        NH3        PDW1000
        NH3        PDW0100
        NH3        PDW0010
        NH3        PDW0001
        NH3        PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDEMPTY
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3        PDN1110
        NH3        PDN1101
        NH3        PDN1011
        NH3        PDN0111
        NH3        PDN1111
        NH3        PDW1000
        NH3        PDW0100
        NH3        PDW0010
        NH3        PDW0001
        NH3        PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDEMPTY
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3        PDN1110
        NH3        PDN1101
        NH3        PDN1011
        NH3        PDN0111
        NH3        PDN1111
        NH3        PDW1000
        NH3        PDW0100
        NH3        PDW0010
        NH3        PDW0001
        NH3        PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDEMPTY
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3        PDN1110
        NH3        PDN1101
        NH3        PDN1011
        NH3        PDN0111
        NH3        PDN1111
        NH3        PDW1000
        NH3        PDW0100
        NH3        PDW0010
        NH3        PDW0001
        NH3        PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDEMPTY
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3        PDN1110
        NH3        PDN1101
        NH3        PDN1011
        NH3        PDN0111
        NH3        PDN1111
        NH3        PDW1000
        NH3        PDW0100
        NH3        PDW0010
        NH3        PDW0001
        NH3        PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDEMPTY
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3        PDN1110
        NH3        PDN1101
        NH3        PDN1011
        NH3        PDN0111
        NH3        PDN1111
        NH3        PDW1000
        NH3        PDW0100
        NH3        PDW0010
        NH3        PDW0001
        NH3        PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDEMPTY
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3       PDN1111
        NH3       PDW1000
        NH3       PDW0100
        NH3       PDW0010
        NH3       PDW0001
        NH3       PDW1100
        NH3       PDW0110
        NH3       PDW0011
        NH3       PDW1001
        NH3       PDW1010
        NH3       PDW0101
        NH3       PDW0111
        NH3       PDW1011
        NH3       PDW1101
        NH3       PDW1110
        NH3       PDN1110
        NH3       PDN1101
        NH3       PDN1011
        NH3       PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
        NH3      PDN1110
        NH3      PDN1101
        NH3      PDN1011
        NH3      PDN0111
        NH3      PDN1111
        NH3      PDW1000
        NH3      PDW0100
        NH3      PDW0010
        NH3      PDW0001
        NH3      PDW1100
        NH3      PDW0110
        NH3      PDW0011
        NH3      PDW1001
        NH3      PDW1010
        NH3      PDW0101
        NH3      PDW0111
        NH3      PDW1011
        NH3      PDW1101
        NH3      PDW1110
So, you've thought through the scenario you wish to test and written a small amount
of code that exercises the functions being tested. How do you ensure that any poten-
tially problematic scheduling sequences are exercised in order to flush out the bugs?
Well, there are a few ways of approaching this, starting with brute-force testing, or
stress testing.
BRUTE-FORCE TESTING
The idea behind brute-force testing is to stress the code to see if it breaks. This typi-
cally means running the code many times, possibly with many threads running at
once. If there's a bug that manifests only when the threads are scheduled in a particu-
lar fashion, then the more times the code is run, the more likely the bug is to appear.
If you run the test once and it passes, you might feel a bit of confidence that the code
works. If you run it ten times in a row and it passes every time, you'll likely feel more
