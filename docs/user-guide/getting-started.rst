Getting started with Gromacs
============================
In this chapter we assume the reader is familiar with Molecular Dynamics and
familiar with Unix, including the use of a text editor such as ``jot``, ``emacs``
or ``vi``. We furthermore assume the Gromacs software is installed properly on
your system. When you see a line like

::

    ls -l

you are supposed to type the contents of that line on your computer terminal.

Setting up your environment
---------------------------
In order to check whether you have access to Gromacs, please
start by entering the command:

::

    gmx -version

This command should print out information about the version of Gromacs
installed. If this, in contrast, returns the phrase

::

    gmx: command not found.

then you have to find where your version of Gromacs is installed. In
the default case, the binaries are located in
``/usr/local/gromacs/bin``, however, you can ask your local system
administrator for more information, and then follow the advice for
:ref:`getting access to Gromacs`.

Flowchart of typical Gromacs simulation
---------------------------------------
A typical simulation workflow with Gromacs is `illustrated here <../online/flow.html>`_.

Important Gromacs files
-----------------------
Here is an overview of the most important Gromacs file types that you will
encounter.

Molecular Topology file (``.top``)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
The molecular topology file is generated by the program `gmx pdb2gmx`_. `gmx pdb2gmx`_ translates a PDB_ structure file of any peptide or protein to a molecular topology file. This topology file contains a complete description of all the interactions in your peptide or protein. 

Molecular Structure file (``.gro``, ``.pdb``)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
When `gmx pdb2gmx`_ is executed to generate a molecular topology, it also translates the structure file (pdb_ file) to a GROMOS structure file (gro_ file). The main difference between a pdb_ file and a gromos file is their format and that a gro_ file can also hold velocities. However, if you do not need the velocities, you can also use a PDB_ file in all programs. To generate a box of solvent molecules around the peptide, the program `gmx solvate`_ is used. First the program `gmx editconf`_ should be used to define a box of appropriate size around the molecule. `gmx solvate`_ solvates a solute molecule (the peptide) into any solvent (in this case, water). The output of `gmx solvate`_ is a gromos structure file of the peptide solvated in water. `gmx solvate`_ also changes the molecular topology file (generated by `gmx pdb2gmx`_) to add solvent to the topology. 

Molecular Dynamics parameter file (``.mdp``)
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
The Molecular Dynamics Parameter (mdp_) file contains all information about the Molecular Dynamics simulation itself e.g. time-step, number of steps, temperature, pressure etc. The easiest way of handling such a file is by adapting a sample mdp_ file. A `sample mdp file`_ is available.

Index file (``.ndx``)
^^^^^^^^^^^^^^^^^^^^^
Sometimes you may need an index file to specify actions on groups of atoms (e.g. temperature coupling, accelerations, freezing). Usually the default index groups will be sufficient, so for this demo we will not consider the use of index files. 

Run input file (``.tpr``)
^^^^^^^^^^^^^^^^^^^^^^^^^
The next step is to combine the molecular structure (gro_ file), topology (top_ file) MD-parameters (mdp_ file) and (optionally) the index file (ndx_) to generate a run input file (tpr_ extension). This file contains all information needed to start a simulation with Gromacs. The `gmx grompp`_ program processes all input files and generates the run input tpr_ file.

Trajectory file (``.trr``)
^^^^^^^^^^^^^^^^^^^^^^^^^^
Once the run input file is available, we can start the simulation. The program which starts the simulation is called `gmx mdrun`_ (or sometimes just mdrun, or mdrun_mpi). The only input file of `gmx mdrun`_ that you usually need in order to start a run is the run input file (tpr_ file). The typical output files of `gmx mdrun`_ are the trajectory file (trr_ file), a logfile (log_ file),
and perhaps a checkpoint file (cpt_ file). 

Tutorial material
-----------------
There are many tutorials_ available that cover aspects of using Gromacs.

Background reading
------------------
*   Berendsen, H.J.C., Postma, J.P.M., van Gunsteren, W.F., Hermans, J. (1981)
    Intermolecular Forces, chapter Interaction models for water in relation to
    protein hydration, pp 331-342. Dordrecht: D. Reidel Publishing Company
    Dordrecht
*   Kabsch, W., Sander, C. (1983).     Dictionary of protein secondary
    structure: Pattern recognition of hydrogen-bonded and geometrical features.
    Biopolymers **22**, 2577--2637.
*   Mierke, D.F., Kessler, H. (1991).     Molecular dynamics with dimethyl
    sulfoxide as a solvent. Conformation of a cyclic hexapeptide. J. Am. Chem.
    Soc. **113**, 9446.
*   Stryer, L. (1988).     Biochemistry vol. 1, p. 211. New York: Freeman, 3
    edition.
